/*
* EASYFADER - "CAROUSEL" EXTENSION
* Version: 1.0.2
* License: Creative Commons Attribution 3.0 Unported - CC BY 3.0
* http://creativecommons.org/licenses/by/3.0/
* This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
* Author: Patrick Kunka
* Copyright 2013 Patrick Kunka, All Rights Reserved
*/
!function(a){"function"==typeof EasyFader?a.extend(EasyFader.prototype,{includeMargin:!1,carouselInit:function(){var a=this;a.fadeOnLoad=!1,a.firstLoad=!1,a.$scrollWrapper=a.$slides.parent(),a.carouselBuild()},carouselSlides:function(a,b){var c=this;a=a?a:0,c.travel=a-b,a==c.totalSlides-1&&0==b?c.travel=-1:0==a&&b==c.totalSlides-1&&(c.travel=1);var h,j,d=c.$slides.eq(0).outerWidth(c.includeMargin),e=-c.travel*d,f=-c.travel>0?-c.travel:c.travel,g=c.$scrollWrapper[0];if(-c.travel>0)for(i=0;f>i;i++)h=g.children[0],j=g.children[c.totalActual-1],g.insertBefore(h,j);else for(i=0;f>i;i++)h=g.children[c.totalActual-2],first=g.children[0],g.insertBefore(h,first);if(c.prefix){var l=c.getPrefixedCSS("transition","transform "+c.effectDur+"ms ease-in-out",!0),m=c.preOffset?c.getPrefixedCSS("transform","translateX("+c.preOffset+"px)"):c.getPrefixedCSS("transform","translateX("+e+"px)");c.$scrollWrapper.css(m),setTimeout(function(){c.$scrollWrapper.css(l).bind("webkitTransitionEnd transitionend",function(d){c.$scrollWrapper.unbind("webkitTransitionEnd transitionend"),c.cleanUp(a,b)});var d=c.getPrefixedCSS("transform","translateX(0)");c.$scrollWrapper.css(d)},20)}else{var k=c.$scrollWrapper.css("left");newLeftPos=1*k.slice(0,-2)+e,c.$scrollWrapper.css("left",newLeftPos).animate({left:k},c.effectDur,function(){c.cleanUp(a,b)})}},carouselCleanUp:function(){var c=this;c.prefix?(delete c.preOffset,c.$scrollWrapper.removeStyle(c.prefix+"transition, transition, "+c.prefix+"transform, transform")):c.$scrollWrapper.removeStyle("left")},carouselBuild:function(){var a=this;for(i=a.totalSlides;i>0;i--)a.$slides.eq(i-1).clone().prependTo(a.$scrollWrapper);a.$filler=a.$slides.eq(0).clone().appendTo(a.$scrollWrapper),a.totalActual=a.$scrollWrapper.find(".slide").length}}):console.error("EasyFader core not found")}(jQuery);