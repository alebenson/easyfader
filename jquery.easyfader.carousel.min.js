/*
* EASYFADER - "CAROUSEL" EXTENSION
* Version: 1.0.3
* License: Creative Commons Attribution 3.0 Unported - CC BY 3.0
* http://creativecommons.org/licenses/by/3.0/
* This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
* Author: Patrick Kunka
* Copyright 2013 Patrick Kunka, All Rights Reserved
*/

(function(h){"function"===typeof EasyFader?h.extend(EasyFader.prototype,{includeMargin:!1,carouselInit:function(){this.firstLoad=this.fadeOnLoad=!1;this.$scrollWrapper=this.$slides.parent();this.carouselBuild()},carouselSlides:function(c,d){var a=this;c=c?c:0;a.travel=c-d;c==a.totalSlides-1&&0==d?a.travel=-1:0==c&&d==a.totalSlides-1&&(a.travel=1);var b=a.$slides.eq(0).outerWidth(a.includeMargin),b=-a.travel*b,f=0<-a.travel?-a.travel:a.travel,e=a.$scrollWrapper[0],g,k;if(0<-a.travel)for(i=0;i<f;i++)g=
e.children[0],k=e.children[a.totalActual-1],e.insertBefore(g,k);else for(i=0;i<f;i++)g=e.children[a.totalActual-2],first=e.children[0],e.insertBefore(g,first);if(a.prefix){var h=a.getPrefixedCSS("transition","transform "+a.effectDur+"ms ease-in-out",!0),b=a.preOffset?a.getPrefixedCSS("transform","translateX("+a.preOffset+"px)"):a.getPrefixedCSS("transform","translateX("+b+"px)");a.$scrollWrapper.css(b);setTimeout(function(){a.$scrollWrapper.css(h).bind("webkitTransitionEnd transitionend",function(b){if("transform"==
b.originalEvent.propertyName||a.prefix+"transform")a.$scrollWrapper.unbind("webkitTransitionEnd transitionend"),a.cleanUp(c,d)});var b=a.getPrefixedCSS("transform","translateX(0)");a.$scrollWrapper.css(b)},20)}else f=a.$scrollWrapper.css("left"),newLeftPos=1*f.slice(0,-2)+b,a.$scrollWrapper.css("left",newLeftPos).animate({left:f},a.effectDur,function(){a.cleanUp(c,d)})},carouselCleanUp:function(c,d){this.prefix?(delete this.preOffset,this.$scrollWrapper.removeStyle(this.prefix+"transition, transition, "+
this.prefix+"transform, transform")):this.$scrollWrapper.removeStyle("left")},carouselBuild:function(){for(i=this.totalSlides;0<i;i--)this.$slides.eq(i-1).clone().prependTo(this.$scrollWrapper);this.$filler=this.$slides.eq(0).clone().appendTo(this.$scrollWrapper);this.totalActual=this.$scrollWrapper.find(".slide").length}}):console.error("EasyFader core not found")})(jQuery);